#====================================================================================
# Unit Definition - DO NOT CHANGE
#====================================================================================
# The _Civil Default Standards - Imperial organization standards will use Imperial units and
# all other organization standards will use Metric units automatically with no changes
# required in this file.

%if $(CIVIL_ORGANIZATION_NAME) == "_Civil Default Standards - Imperial"
  UNITS                                 = Imperial
%else
  UNITS                                 = Metric
%endif
#------------------------------------------------------------------------------------

#====================================================================================
# File Localization Naming - DO NOT CHANGE
#====================================================================================
# CIVIL_FILENAME defines a variable text string that makes file names in the
# workspace more meaningful by including a unit or localization name.
# For example, the delivered design seed file is named
#      Seed2D - Metric Design.dgn where "Metric" is the variable text.
#   In a localized workspace a seed file could be named
#      Seed2D - DACH Design.dgn where "DACH" is the variable text.
#   If the CIVIL_LOCALIZATION_NAME variable is defined in the workspace cfg file,
#   the text defined by that variable is used.
#   Otherwise the text defined by the UNITS variable is used.

%if defined (CIVIL_LOCALIZATION_NAME)
  CIVIL_FILENAME                        = $(CIVIL_LOCALIZATION_NAME)
%else
  CIVIL_FILENAME                        = $(UNITS)
%endif
#------------------------------------------------------------------------------------

#====================================================================================
# Folder Location Definition - DO NOT CHANGE
#====================================================================================
# The CIVIL_ORGANIZATION_STANDARDS variable defines where the Organization Standards
# are located. These can be located on a local computer or a shared network drive.
# To define these on a network drive, edit the WorkSpaceSetup.cfg file and change
# the CIVIL_ORGANIZATION_ROOT variable. NO changes are needed in this file.

CIVIL_ORGANIZATION_STANDARDS  = $(CIVIL_ORGANIZATION_ROOT)$(CIVIL_ORGANIZATION_NAME)/
#------------------------------------------------------------------------------------

#====================================================================================
# Preferences files
#====================================================================================
_USTN_USERNAME                          = $(_USTN_PRODUCT_SHORTNAME)_$(CIVIL_FILENAME)
_USTN_PREFNAMEBASE                      = $(_USTN_HOMEPREFS)$(_USTN_PRODUCT_SHORTNAME)_$(CIVIL_FILENAME)
MS_DOCKINGPREF                          = $(_USTN_PREFNAMEBASE).docking.xml
MS_GROUPPANELPREF                       = $(_USTN_PREFNAMEBASE).GroupPanels.xml
MS_SAVEMENU                             = $(_USTN_PREFNAMEBASE).Attached.men
MS_RIBBONPREFS                          = $(_USTN_PREFNAMEBASE).RibbonState.xml
MS_FKEYMNU                              = $(_USTN_PREFNAMEBASE).funckey.mnu
MS_USERPREF                             = $(_USTN_PREFNAMEBASE).upf
#------------------------------------------------------------------------------------

#====================================================================================
# Seed files (Additional Seed files defined in the Subsurface Utilities section)
#====================================================================================
MS_SEEDFILES                            = $(CIVIL_ORGANIZATION_STANDARDS)Seed/
MS_DESIGNSEED                           = Seed2D - $(CIVIL_FILENAME) Design.dgn
MS_DESIGNMODELSEED                      = Seed2D - $(CIVIL_FILENAME) Design.dgn
MS_DESIGNMODELSEEDNAME                  = Default
MS_DRAWINGMODELSEED                     = $(CIVIL_ORGANIZATION_STANDARDS)Seed/Sheets/Seed2D - $(CIVIL_FILENAME) Drawing.dgn
MS_DRAWINGMODELSEEDNAME                 = 2D $(UNITS) Drawing
MS_SHEETMODELSEED                       = $(CIVIL_ORGANIZATION_STANDARDS)Seed/Sheets/Seed2D - $(CIVIL_FILENAME) Sheet.dgn
MS_SHEETMODELSEEDNAME                   = 2D $(UNITS) Sheet
#------------------------------------------------------------------------------------

#====================================================================================
# General CAD Environment (MicroStation) Settings
# Levels, Text Styles, Element Templates, Display Styles, GUI, etc.
#====================================================================================
# Cross section and plan sheet seeds
MS_DGNLIBLIST                           > $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Sheet Seeds/*.dgnlib

# Levels, Element Templates, and Text Styles
MS_DGNLIBLIST                           < $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Feature Definitions/*.dgnlib
MS_LEVEL_LIB_DIR                        < $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Feature Definitions/

# UNCOMMENT THE FOLLOWING 2 LINES TO GET THE UNICLASS AND IAN184 EXAMPLES
#MS_DGNLIBLIST                           < $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Uniclass2015/*.dgnlib
#MS_LEVEL_LIB_DIR                        < $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Uniclass2015/

# Line Styles
MS_DGNLIBLIST                           > $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Line Styles/*.dgnlib
MS_SYMBRSRC                             > $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Line Styles/*.rsc

# Display Styles
MS_DGNLIBLIST                           > $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Display Styles/*.dgnlib

# GUI Customization seeds
MS_GUIDGNLIBLIST                        > $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/GUI/*.dgnlib

# Project Explorer Linksets
# MS_DGNLIBLIST_LINKS                   > $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Linksets/*.dgnlib
# MS_SEED_LINKSET_PATH                  > $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Linksets/
# MS_SEED_LINKSET_FILE_NAME             = Linksets_$(CIVIL_FILENAME).dgnlib

# Color Books
MS_COLORBOOK_LIBRARIES                  < $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Color Books/*.dgnlib

# Cell Libraries
MS_CELL                                 < $(CIVIL_ORGANIZATION_STANDARDS)cell/
MS_CELLLIST                             < $(CIVIL_ORGANIZATION_STANDARDS)cell/*.cel

# Material pallets, pattern maps and bump maps for rendering
MS_MATERIAL                             < $(CIVIL_ORGANIZATION_STANDARDS)materials/
MS_PATTERN                              < $(CIVIL_ORGANIZATION_STANDARDS)materials/pattern/
MS_BUMP                                 < $(CIVIL_ORGANIZATION_STANDARDS)materials/bump/

# Load the ViewSet Macro that provides
MS_VBAAUTOLOADPROJECTS                  > $(CIVIL_ORGANIZATION_STANDARDS)Macros/ViewSet
MS_VBAAUTOLOADPROJECTS                  > $(CIVIL_ORGANIZATION_STANDARDS)Macros/SnappableToggle

# MicroStation fonts 
MS_FONTPATH                             > $(CIVIL_ORGANIZATION_STANDARDS)fonts/
MS_SYMBRSRC                             > $(CIVIL_ORGANIZATION_STANDARDS)fonts/*.rsc
MS_FONTCONFIGFILE                       = $(CIVIL_ORGANIZATION_STANDARDS)fonts/MstnFontConfig.xml

# Scale Definitions used for Annotation Scales
MS_CUSTOMSCALEDEF                       = $(CIVIL_ORGANIZATION_STANDARDS)Scales/scales.def

# Units Definitions used for Custom Units
MS_CUSTOMUNITDEF                        = $(CIVIL_ORGANIZATION_STANDARDS)Scales/units.def

# Sheet Size Definitions used for Sheet Sizes
MS_CUSTOMSHEETSIZEDEF                   = $(CIVIL_ORGANIZATION_STANDARDS)Scales/sheetsizes.def

# Directory for backup files
MS_BACKUP                               = $(_DGNDIR)

# Default output directory where MicroStation report (not OpenRoads/OpenRail) results will be exported.
MS_REPORT_OUTPUT                        = $(_DGNDIR)

# If set to 1, the view windows are resized proportionally when the main window is resized or when the dialogs are docked or undocked.
MS_VIEWAUTORESIZE                       = 1

# If set to 1, display all hidden variables. This can be useful when trouble shooting.
_USTN_DISPLAYALLCFGVARS                 = 1

# If set to 1, show the full file name path in the title bar.
MS_FULLPATHINTITLEBAR                   = 1
#------------------------------------------------------------------------------------

#====================================================================================
# Reference File Paths and Settings
#====================================================================================
MS_REF_DEFAULTATTACHDIRECTORY           = $(_DGNDIR)
MS_REF_DEFAULTSETTINGS                  = TrueScale=1,AttachMethod=CoincidentWorld,nestMode=live,NestDepth=0,SaveRelativePath=1
MS_RFDIR                                > $(_DGNDIR)
MS_RFDIR                                > $(CIVIL_ORGANIZATION_STANDARDS)Sheet Borders/
MS_REF_MASTERFILELAST_DESIGN            = 1  
MS_REF_NEWLEVELDISPLAY                  = 1
MS_REF_VISEDGE_ATTACH_STATE             = Dynamic
#MS_DISALLOWFULLREFPATH                 = 1
#------------------------------------------------------------------------------------

#====================================================================================
# OpenRoads/OpenRail Designer Settings
# Features, Graphical Filters, Civil Cells, Design Standards, etc.
#====================================================================================
# Feature Definitions
CIVIL_CONTENTMANAGEMENTDGNLIBLIST       > $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Feature Definitions/*.dgnlib

# Graphical Filters
CIVIL_CIVILTMDGNLIBLIST                 > $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Graphical Filters/*.dgnlib

# Civil Cells
CIVIL_CIVILCELLDGNLIBLIST               > $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Civil Cells/*.dgnlib

# Design Standards
CIVIL_DESIGNSTANDARDSDGNLIBLIST         > $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Design Standards/*.dgnlib

# Template Library
CIVIL_ROADWAY_TEMPLATE_LIBRARY          = $(CIVIL_ORGANIZATION_STANDARDS)Template Library/Civil Templates $(CIVIL_FILENAME).itl

# Superelevation Rules
CIVIL_SUPERELEVATION_RULES_DIRECTORY    = $(CIVIL_ORGANIZATION_STANDARDS)Superelevation/

# Reports
# By default reports are read from the \Program Files\ folder. If ANY .xsl file
# exists in the folder defined by $(CIVIL_ORGANIZATION_STANDARDS)Reports/,
# then reports are read from there instead of \Program Files\ folder.
%if exists ($(CIVIL_ORGANIZATION_STANDARDS)Reports/*.xsl))
  CIVIL_REPORTS_DIRECTORY               = $(CIVIL_ORGANIZATION_STANDARDS)Reports/
%endif

# Station Lock
# If set to 1 then stations for various commands are adjusted to stay at even values.
# For example, template drops will adjust to be at even stations in the event of an
# equation that could cause it to do otherwise. If not set or set to FALSE, then the
# station values will be maintained at the specified increments. 
CIVIL_DEFAULT_STATION_LOCK              = 1

# Civil AccuDraw
# Defines location of Civil AccuDraw (not AccuDraw) settings and favorites XML files.
MS_ACCUDRAWKEYS                         = $(_USTN_HOMEPREFS)
#------------------------------------------------------------------------------------

#====================================================================================
# Sight Visibility
#====================================================================================
# Defines the folder where the XML files used by the Site Visibility tool are located.

CIVIL_SIGHTVISIBILITY_SETTINGS_DIRECTORY = $(CIVIL_ORGANIZATION_STANDARDS)Sight Visibility/
#------------------------------------------------------------------------------------

#====================================================================================
# Subsurface Utilities
#====================================================================================
# SUDA_SEED_FILE defines a dgnlib file that contains the default settings for a Utility project.

# SUDA_SEED_MODEL defines the model to read from the dgnlib file. The information in this model
# is copied to the active dgn when you first use a Subsurface Utilities. The information in this
# model normally includes hydraulics and hydrology settings, as well as feature definitions.
SUDA_SEED_FILE                          = $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Feature Definitions/SU_Features_Annotations_Lvls_Elem Temp $(CIVIL_FILENAME).dgnlib
SUDA_SEED_MODEL                         = Default

# SUDA_USE_HAESTAD_CONDUIT tells hydraulic conduits to forget about the sizes that are stored
# in the feature definition, and use the sizes that are stored in the Haestad conduit library.
SUDA_USE_HAESTAD_CONDUIT                = 1

# CIVIL_SUBSURFACE_FILTERS_DGNLIBLIST defines search path(s) for Subsurface Filter dgnlib
# files. The filters can be used in the Extract Utilities from Graphics option.
CIVIL_SUBSURFACE_FILTERS_DGNLIBLIST     > $(CIVIL_ORGANIZATION_STANDARDS)Dgnlib/Feature Definitions/SU_Features_Annotations_Lvls_Elem Temp $(CIVIL_FILENAME).dgnlib
#------------------------------------------------------------------------------------

#====================================================================================
# Survey Files and Chains
#====================================================================================
# CIVIL_SURVEY_FILES_FOLDER overrides the location where survey import and export tools
# read definition files such as TIW files. By default this variable is NOT used and
# the definition files are read from the \Program Files\ folder.

# CIVIL_SURVEY_RETAIN_SURVEY_ON_COPY - When copying or using commands that cut
# up the survey chain with this cfg set to 1 the result will be a graphic
# survey chain, else will be a MicroStation element.

#CIVIL_SURVEY_FILES_FOLDER              = Replace with Directory Path
CIVIL_SURVEY_RETAIN_SURVEY_ON_COPY      = 1
#------------------------------------------------------------------------------------

#====================================================================================
# Profile and Superelevation View Exaggeration Values
#====================================================================================
# *_EXAGGERATION_VALUES defines a list of exaggeration values that are available in the View Attributes menu. 

# *_SET_DEFAULT_EXAGGERATION defines the default exaggeration value from the list
# of available values used when a view is opened.

# *_SKIP_DEFAULT_EXAGGERATION - If set to 1, the view is opened with a 1:1
# exaggeration and the default exaggeration is ignored.

CIVIL_EXAGGERATION_VALUES               = 1,2,5,10,20,50,100
CIVIL_SET_DEFAULT_EXAGGERATION          = 10
_CIVIL_SKIP_DEFAULT_EXAGGERATION        = 0

CIVIL_SUPER_EXAGGERATION_VALUES         = 100,200,500,1000,2000,5000,10000
CIVIL_SET_SUPER_DEFAULT_EXAGGERATION    = 5000
_CIVIL_SKIP_SUPER_DEFAULT_EXAGGERATION  = 0
#------------------------------------------------------------------------------------

#====================================================================================
# Stroking Tolerance Settings for Survey and Corridor Modeling
#====================================================================================
# These variables define how often to compute a point or template drop interval
# along a tangent, profile, or curve. The Linear Stroking tolerance is the maximum
# distance along a tangent. Extra points are added along profiles and curves based
# on a chord offset from the profile or curve.
# Refer to the Product Help for additional details.
#
# The four variables that begin with CIVIL_SURVEY are optional.
# If these variables are set, these values will be used for Survey Terrain Model only
# creation overriding the default Civil variables set for Survey and Corridor Modeling.
# Units are in master units (feet or meters)
#
%if $(Units) == "Metric"
  CIVIL_DEFAULT_LINEAR_STROKING         = 2.5
  CIVIL_DEFAULT_PROFILE_STROKING        = 0.02
  CIVIL_DEFAULT_CURVE_STROKING          = 0.02
  CIVIL_SURVEY_STROKE_TOLERANCE_LINEAR = 10
#  CIVIL_SURVEY_STROKE_TOLERANCE_CURVE  = 0.02
%else
  CIVIL_DEFAULT_LINEAR_STROKING         = 10.0
  CIVIL_DEFAULT_PROFILE_STROKING        = 0.07
  CIVIL_DEFAULT_CURVE_STROKING          = 0.07
#  CIVIL_SURVEY_STROKE_TOLERANCE_LINEAR = 100.0
#  CIVIL_SURVEY_STROKE_TOLERANCE_CURVE  = 0.05
%endif
#------------------------------------------------------------------------------------

#====================================================================================
# Default Best Fit Settings
#====================================================================================
# These variables define the best fit parameters that are used to calculate the
# best fit profile when the 'Create 3D Automatically' option on the
# Feature Definition Toggle bar is enabled.

# These settings are NOT used by the 'Define Profile by Best Fit' geometry tool. That
# tool has its own settings that are defined interactively through the graphical interface.

%if $(Units) == "Metric"
  CIVIL_DEFAULT_BEST_FIT_UPPER_ENVELOPE  = 2
  CIVIL_DEFAULT_BEST_FIT_LOWER_ENVELOPE  = -.5
  CIVIL_DEFAULT_BEST_FIT_CREST_LENGTH    = 300
  CIVIL_DEFAULT_BEST_FIT_SAG_LENGTH      = 300
  CIVIL_DEFAULT_BEST_FIT_MINIMUM_LENGTH  = 50
%else
  CIVIL_DEFAULT_BEST_FIT_UPPER_ENVELOPE  = 5
  CIVIL_DEFAULT_BEST_FIT_LOWER_ENVELOPE  = -1
  CIVIL_DEFAULT_BEST_FIT_CREST_LENGTH    = 1000
  CIVIL_DEFAULT_BEST_FIT_SAG_LENGTH      = 1000
  CIVIL_DEFAULT_BEST_FIT_MINIMUM_LENGTH  = 150
%endif
#------------------------------------------------------------------------------------

#====================================================================================
# Civil Terrain Settings
#====================================================================================
# These variables define filtering when importing high density terrain data that
# contains many points such as DWG Contour mapping. The filtering looks at 3 points.
# If the distance between points 1 & 3 is less than the Filter Maxgap value, then
# point 2 is evaluated to see if it is offset from a line connecting points 1 & 3
# by less than the Filter Tolerance value. If it is then it is removed.
#
# These variables are not enabled by default. They should only be enable when required,
# on a project by project basis that has terrain data in DWG format.

# CIVIL_DTM_LINESTRING_FILTER_TOLERANCE = 0.05
# CIVIL_DTM_LINESTRING_FILTER_MAXGAP    = 0.5
#------------------------------------------------------------------------------------

#====================================================================================
# Cross Section Sheet Spacings and Margins Settings
#====================================================================================
# Units are in Sheet master units(feet or meters)
# NOTE: ALL 4 variables must be set for them to be used.
#
# CIVIL_CROSSSECTION_RT_TO_LT_SPACING - If multiple cross sections can fit in the same
# row moving from left to right, this variable defines the horizontal spacing between
# the adjacent cross section boundaries.

# CIVIL_CROSSSECTION_TOP_TO_BOT_SPACING - If multiple sections can fit in the same
# column moving from bottom to top, this variable defines the vertical spacing between
# the adjacent cross section boundaries.

# CIVIL_CROSSSECTION_SIDE_MARGIN - Each cross section is tested in the horizontal direction
# to determine if it will fit on the sheet and still allow this variable to be met. This
# distance is measured from the right edge of the cross section clipping boundary to the
# right edge of the sheet model edge. If the computed distance is less than this variable,
# a new cross section sheet model will be generated for the next cross section.

# CIVIL_CROSSSECTION_TOP_MARGIN - Each cross section is tested in the vertical direction
# to determine if it will fit on the sheet and still allow this variable to be met.
# This distance is measured from the top edge of the cross section clipping boundary to
# the top edge of the sheet model edge. If the computed distance is less than this variable,
# a new column of cross sections will be started if adequate space is available.
# Otherwise, a new cross section sheet model will be generated for the next cross section.

%if $(Units) == "Metric"
  CIVIL_CROSSSECTION_RT_TO_LT_SPACING   = 0.005
  CIVIL_CROSSSECTION_TOP_TO_BOT_SPACING = 0.030
  CIVIL_CROSSSECTION_SIDE_MARGIN        = 0.025
  CIVIL_CROSSSECTION_TOP_MARGIN         = 0.007

%else
  CIVIL_CROSSSECTION_RT_TO_LT_SPACING   = 0.01000
  CIVIL_CROSSSECTION_TOP_TO_BOT_SPACING = 0.16667
  CIVIL_CROSSSECTION_SIDE_MARGIN        = 0.08333
  CIVIL_CROSSSECTION_TOP_MARGIN         = 0.12500
%endif
#------------------------------------------------------------------------------------

#====================================================================================
# Make Standards, Preferences, and Feature Definitions Read-only
#====================================================================================
# Defines how standards, preferences and features that come from a DGN Library are
# persisted in the active file. If variable is not Defined, items are persisted as
# Read-Write. If set to 1, items are persisted as Read-only.

#CIVIL_CIVILSETTINGS_READONLY           = 1
#------------------------------------------------------------------------------------

#====================================================================================
# Civil Model Upgrade Options
#====================================================================================
# Two configuration variables control upgrading options.
#
# When the CIVIL_UPGRADE_PROMPT_OFF variable is set equal to 1, it will hide
# the upgrade prompt and automatically upgrade files with no prompting.
#
# CIVIL_OPEN_OLD_READONLY on its own will do nothing. It requires the
# CIVIL_UPGRADE_PROMPT_OFF configuration variable also be set. However, when
# both variables are set, the upgrade prompt will be hidden and the file
# will be opened as read-only.

#CIVIL_UPGRADE_PROMPT_OFF               = 1
#CIVIL_OPEN_OLD_READONLY                = 1
#------------------------------------------------------------------------------------

#====================================================================================
# i-model Publishing Settings
#====================================================================================
# If set to 1, converts the 2D seed and non-seed models to 3D
# during DgnDb i-model publishing process. Default setting is 0 or undefined.
BENTLEY_DGNDBIMPORTER_PUBLISH2DMODELS   = 1

# If set to 1, enables the search for fonts to be embedded during 
# DgnDb i-model publishing process. Default setting is 0 or undefined.
BENTLEY_DGNDBIMPORTER_SEARCH_FONTS      = 1

# Specifies the directories search paths for TTF custom fonts.
# Multiple paths could be provided separated by semi-colon.
BENTLEY_DGNDBIMPORTER_TTF_FONT_PATHS    = $(CIVIL_ORGANIZATION_STANDARDS)fonts/
#------------------------------------------------------------------------------------

#====================================================================================
# Civil Annotation Computed Prefix Override Names
#====================================================================================
#CIVIL_USE_CUSTOM_POINT_LABELS = 1
#CIVIL_LABEL_SCS               = SCS
#CIVIL_LABEL_SRS               = SRS
#CIVIL_LABEL_ST                = ST
#CIVIL_LABEL_SC                = SC
#CIVIL_LABEL_TS                = TS
#CIVIL_LABEL_CS                = CE
#CIVIL_LABEL_PRC               = PRC
#CIVIL_LABEL_PCC               = PCC
#CIVIL_LABEL_PC                = PC
#CIVIL_LABEL_PT                = PT
#CIVIL_LABEL_POT               = POT
#CIVIL_LABEL_START             = START
#CIVIL_LABEL_END               = END
#CIVIL_LABEL_POLY              = POLY
#CIVIL_LABEL_VHP               = VHP
#CIVIL_LABEL_VLP               = VLP
#CIVIL_LABEL_VPC               = VPC
#CIVIL_LABEL_VPT               = VPT
#CIVIL_LABEL_VPI               = VPI
#CIVIL_LABEL_VPI_ARC           = VPI_ARC
#CIVIL_LABEL_VPI_PARABOLA      = VPI_PARABOLA
#CIVIL_LABEL_HPI               = HPI
#CIVIL_LABEL_HPI_ARC           = HPI_ARC
#CIVIL_LABEL_HPI_SPIRAL        = HPI_SPIRAL
#CIVIL_LABEL_EQN               = EQN
#CIVIL_LABEL_EQNAH             = EQNAH
#CIVIL_LABEL_EQNBK             = EQNBK
#------------------------------------------------------------------------------------